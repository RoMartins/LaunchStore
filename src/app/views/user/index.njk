{% extends 'layout.njk' %}

{% block content %}

    <section class="user-dashboard container form">
        <form action="/users?_method=PUT" method="POST" >
            
            <div class="header">
                <h3>Detalhes</h3>
            </div>      

            <div class="fields">
                {%include 'user/fields.njk' %}
                   <input
                    type="hidden"
                    name="id"
                    value={{user.id}}>
            </div>        
         
            <button class="button edit" type="submit">Atualizar</button>
    </form>

            <form id="form-delete" action="/users?_method=DELETE" method="POST">
                <input type="hidden" name="id" value="{{user.id}}">
                <button class= "button delete"type="submit">Deletar</button>
            </form>

    </section>

<script> 
    const FormDelete = document.querySelector("#form-delete")
    FormDelete.addEventListener("submit", (event) =>{
        const confirmation = confirm("Deseja Deletar ?")
        if(!confirmation) {
        event.preventDefault()
        }
    })
</script>
{% endblock content %}